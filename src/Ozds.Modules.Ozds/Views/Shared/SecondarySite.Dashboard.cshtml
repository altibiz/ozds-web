@using Ozds.Modules.Ozds
@using Ozds.Elasticsearch

@inject IDashboardMeasurementProvider Provider

@model SecondarySiteType

@{
  var now = DateTime.UtcNow;
  var measurements = await Provider
    .GetDashboardMeasurementsAsync(
      Model.Site.Value.DeviceId,
      new Period
      {
        From = now.AddMinutes(-30),
        To = now
      });
}

<partial name="Dashboard" model="@measurements" />