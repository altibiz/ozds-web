using Members.Payments;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Members.Test
{
    [TestClass]
    public class UnitTest1
    {
        [TestMethod]
        public void ConvertBsXmlToJson()
        {
            BankStatPartService.ParseStmt(bnkstatmnt);
        }


        const string bnkstatmnt = @"<Document xmlns =""urn:iso:std:iso:20022:tech:xsd:camt.053.001.02"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:fo=""http://www.w3.org/1999/XSL/Format"" xmlns:xs=""http://www.w3.org/2001/XMLSchema"" xmlns:fn=""http://www.w3.org/2005/xpath-functions"">  <BkToCstmrStmt>    <GrpHdr>      <MsgId>053.110097095419120211217.0001</MsgId>      <CreDtTm>2021-12-17T06:50:12.786</CreDtTm>    </GrpHdr>    <Stmt>      <Id>CAMT053/1100970954/191/2021/221/001</Id>      <LglSeqNb>221</LglSeqNb>      <CreDtTm>2021-12-17T06:50:12.786</CreDtTm>      <FrToDt>        <FrDtTm>2021-12-16T00:00:00.000</FrDtTm>        <ToDtTm>2021-12-16T23:59:59.999</ToDtTm>      </FrToDt>      <RptgSrc>        <Prtry>ESBCHR2223057039320</Prtry>      </RptgSrc>      <Acct>        <Id>          <IBAN>HR2324020061100970954</IBAN>        </Id>        <Ccy>HRK</Ccy>        <Nm>GLAS PODUZETNIKA</Nm>        <Svcr>          <FinInstnId>            <BIC>ESBCHR22</BIC>          </FinInstnId>        </Svcr>      </Acct>      <Bal>        <Tp>          <CdOrPrtry>            <Cd>OPBD</Cd>          </CdOrPrtry>        </Tp>        <Amt Ccy=""HRK"">695786.04</Amt>        <CdtDbtInd>CRDT</CdtDbtInd>        <Dt>          <Dt>2021-12-16</Dt>        </Dt>      </Bal>      <Bal>        <Tp>          <CdOrPrtry>            <Cd>CLBD</Cd>          </CdOrPrtry>        </Tp>        <Amt Ccy=""HRK"">699986.04</Amt>        <CdtDbtInd>CRDT</CdtDbtInd>        <Dt>          <Dt>2021-12-16</Dt>        </Dt>      </Bal>      <TxsSummry>        <TtlCdtNtries>          <NbOfNtries>2</NbOfNtries>          <Sum>4200.00</Sum>        </TtlCdtNtries>        <TtlDbtNtries>          <NbOfNtries>0</NbOfNtries>          <Sum>0.00</Sum>        </TtlDbtNtries>      </TxsSummry>      <Ntry>        <NtryRef>M160213500094472</NtryRef>        <Amt Ccy=""HRK"">200.00</Amt>        <CdtDbtInd>CRDT</CdtDbtInd>        <RvslInd>false</RvslInd>        <Sts>BOOK</Sts>        <BookgDt>          <Dt>2021-12-16</Dt>        </BookgDt>        <ValDt>          <Dt>2021-12-16</Dt>        </ValDt>        <AcctSvcrRef>2021-75752768-9734965634</AcctSvcrRef>        <BkTxCd>          <Domn>            <Cd>PMNT</Cd>            <Fmly>              <Cd>RCDT</Cd>              <SubFmlyCd>NTAV</SubFmlyCd>            </Fmly>          </Domn>        </BkTxCd>        <NtryDtls>          <TxDtls>            <Refs>              <AcctSvcrRef>2021-75752768-9734965634</AcctSvcrRef>              <InstrId>2402006211216149003C415100800269B3</InstrId>              <EndToEndId>HR99</EndToEndId>            </Refs>            <AmtDtls>              <TxAmt>                <Amt Ccy=""HRK"">200.00</Amt>                <CcyXchg>                  <SrcCcy>HRK</SrcCcy>                  <TrgtCcy>HRK</TrgtCcy>                  <XchgRate>1.000000</XchgRate>                </CcyXchg>              </TxAmt>            </AmtDtls>            <RltdPties>              <Dbtr>                <Nm>SNJEŽANA ŠKLEDAR</Nm>                <PstlAdr>                  <AdrLine>MAKARSKA ULICA 68 10040 ZAGREB, GRA</AdrLine>                </PstlAdr>              </Dbtr>              <DbtrAcct>                <Id>                  <IBAN>HR8823600003211771800</IBAN>                </Id>              </DbtrAcct>            </RltdPties>            <RmtInf>              <Strd>                <CdtrRefInf>                  <Tp>                    <CdOrPrtry>                      <Cd>SCOR</Cd>                    </CdOrPrtry>                  </Tp>                  <Ref>HR6900000-29462388872</Ref>                </CdtrRefInf>                <AddtlRmtInf>DONACIJA</AddtlRmtInf>              </Strd>            </RmtInf>          </TxDtls>        </NtryDtls>      </Ntry>      <Ntry>        <NtryRef>ZOU008-OTPVHR2X-20211216-253114213</NtryRef>        <Amt Ccy=""HRK"">4000.00</Amt>        <CdtDbtInd>CRDT</CdtDbtInd>        <RvslInd>false</RvslInd>        <Sts>BOOK</Sts>        <BookgDt>          <Dt>2021-12-16</Dt>        </BookgDt>        <ValDt>          <Dt>2021-12-16</Dt>        </ValDt>        <AcctSvcrRef>2021-75726979-9734914678</AcctSvcrRef>        <BkTxCd>          <Domn>            <Cd>PMNT</Cd>            <Fmly>              <Cd>RCDT</Cd>              <SubFmlyCd>NTAV</SubFmlyCd>            </Fmly>          </Domn>        </BkTxCd>        <NtryDtls>          <TxDtls>            <Refs>              <AcctSvcrRef>2021-75726979-9734914678</AcctSvcrRef>              <InstrId>2402006211216135002C415100800391B3</InstrId>              <EndToEndId>HR99</EndToEndId>            </Refs>            <AmtDtls>              <TxAmt>                <Amt Ccy=""HRK"">4000.00</Amt>                <CcyXchg>                  <SrcCcy>HRK</SrcCcy>                  <TrgtCcy>HRK</TrgtCcy>                  <XchgRate>1.000000</XchgRate>                </CcyXchg>              </TxAmt>            </AmtDtls>            <RltdPties>              <Dbtr>                <Nm>GRAFIK.NET D.O.O.</Nm>                <PstlAdr>                  <AdrLine>TRNJANSKA CESTA 114 10000 ZAGREB</AdrLine>                </PstlAdr>              </Dbtr>              <DbtrAcct>                <Id>                  <IBAN>HR5824070001100643362</IBAN>                </Id>              </DbtrAcct>            </RltdPties>            <RmtInf>              <Strd>                <CdtrRefInf>                  <Tp>                    <CdOrPrtry>                      <Cd>SCOR</Cd>                    </CdOrPrtry>                  </Tp>                  <Ref>HR99</Ref>                </CdtrRefInf>                <AddtlRmtInf>Donacija</AddtlRmtInf>              </Strd>            </RmtInf>          </TxDtls>        </NtryDtls>      </Ntry>      <AddtlStmtInf>Privremeno stanje:            699.986,04; Rezervirano za naplatu:                  0,00; Dopušteno prekoraèenje:                  0,00; Rezervirano po nalogu FINA-e:                  0,00; Raspoloživo stanje:            699.986,04</AddtlStmtInf>    </Stmt>  </BkToCstmrStmt></Document>";
    }
}
